"use strict";(()=>{var g=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var s=(l,r,e,t)=>{for(var a=t>1?void 0:t?m(r,e):r,o=l.length-1,p;o>=0;o--)(p=l[o])&&(a=(t?p(r,e,a):p(a))||a);return t&&a&&g(r,e,a),a};var c=class extends Laya.Scene{};var{regClass:f}=Laya,y=class extends c{onAwake(){Laya.loader.load(["resources/UI/splash.png","resources/UI/progress.png","resources/UI/progress$bar.png"]).then(()=>{let r=["resources/UI/D_1.jpg","resources/UI/mask.png","resources/UI/photograph1.png","resources/UI/photograph2.png","resources/UI/photograph3.png","resources/UI/pinao.png","resources/UI/wedding.png","resources/UI/note1.png","resources/UI/note2.png","resources/UI/note3.png",{url:"resources/atlas/destory.atlas",type:Laya.Loader.ATLAS},{url:"scenes/GameMain.ls",type:Laya.Loader.HIERARCHY},{url:"prefab/DropBox1.lh",type:Laya.Loader.HIERARCHY},{url:"prefab/DropBox2.lh",type:Laya.Loader.HIERARCHY},{url:"prefab/DropBox3.lh",type:Laya.Loader.HIERARCHY},{url:"resources/sound/bgm.mp3",type:Laya.Loader.BUFFER}];Laya.loader.load(r,null,Laya.Handler.create(this,this.onLoading,null,!1)).then(()=>{this.progress.value=.98,console.log("加载结束",this.progress.value),Laya.Scene.open("scenes/GameMain.ls")}),Laya.loader.on(Laya.Event.ERROR,this,this.onError)})}onError(r){console.log("加载失败: "+r)}onLoading(r){r>.92?this.progress.value=.95:this.progress.value=r}};y=s([f("0xcbP_peQM2UyU_UxNsj3w")],y);var{regClass:v,property:u}=Laya,n=class extends Laya.Script{constructor(){super();this.createBoxInterval=1e3;this._time=0;this._started=!1;this.updateStop=!1;this.bOnLoadRes1=!1;this.bLoadRes1Finished=!1;this.bOnLoadRes2=!1;this.bLoadRes2Finished=!1}loadRes1(){let e=["resources/UI/B_1.jpg","resources/UI/B_2.jpg"];Laya.loader.load(e).then(t=>{this.bLoadRes1Finished=!0})}loadRes2(){let e=["resources/UI/D_2.jpg","resources/UI/D_3.jpg","resources/UI/forver.png","resources/UI/map.png","resources/UI/logo.png"];Laya.loader.load(e).then(t=>{this.bLoadRes2Finished=!0})}onEnable(){this._gameBox=this.owner.getChildByName("gameBox"),Laya.stage.on(Laya.Event.BLUR,this,()=>{this.updateStop=!0}),Laya.stage.on(Laya.Event.FOCUS,this,()=>{this.updateStop=!1})}onStart(){let e=this.owner.getChildByName("ground").getComponent(Laya.BoxCollider);e.width=Laya.stage.width,this._started||(this._started=!0,this.enabled=!0),this._time=0,Laya.SoundManager.autoStopMusic=!1,Laya.SoundManager.playMusic("resources/sound/bgm.mp3")}onUpdate(){if(this.bOnLoadRes1||(this.bOnLoadRes1=!0,this.loadRes1()),this.bLoadRes1Finished&&!this.bOnLoadRes2&&(this.bOnLoadRes2=!0,this.loadRes2()),this.updateStop)return;let e=Date.now();this._started&&e-this._time>=this.createBoxInterval&&(this.createBoxInterval=1500+Math.random()*500,this._time=e,this.createBox())}createBox(){let e=Math.ceil(Math.random()*3),t;e==1?t=this.dropBox1:e==2?t=this.dropBox2:e==3&&(t=this.dropBox3);let a=Laya.Pool.getItemByCreateFun("dropBox"+e,t.create,t);a.pos(Math.random()*(Laya.stage.width-200)+100,0),this._gameBox.addChild(a)}stopGame(){this._started=!1,this.enabled=!1,this._gameBox.removeChildren()}};s([u({type:Laya.Prefab})],n.prototype,"dropBox1",2),s([u({type:Laya.Prefab})],n.prototype,"dropBox2",2),s([u({type:Laya.Prefab})],n.prototype,"dropBox3",2),n=s([v("h4oJ3hXoQ4uRp3Mnk2BZ7g")],n);var L=class extends Laya.Scene{};var{regClass:b,property:P}=Laya,i=class extends L{constructor(){super();i.instance=this}onEnable(){this.maskImg.mask=this.maskS,this._control=this.getComponent(n),this.copyTxt.on(Laya.Event.CLICK,this,this.onTipClick)}onTipClick(e){navigator.clipboard.writeText("湖南省长沙市岳麓区小天鹅洋湖婚庆园"),this.copyTxt.text="已复制"}addScore(e=1){}getStartMove(){return!0}};i=s([b("ezOvwxztQOq7upo5ov7wSw")],i);var{regClass:x,property:S}=Laya,d=class extends Laya.Script{constructor(){super();this.index=1}onEnable(){this._rig=this.owner.getComponent(Laya.RigidBody),this._ani=new Laya.Animation}onUpdate(){this.owner.rotation++,this.owner.y+=Laya.stage.height/320}onTriggerEnter(e,t,a){var o=this.owner;if(e.label==="ground"){if(i.instance.addScore(1),o.parent){let p=Laya.Pool.getItemByCreateFun("effect",this.createEffect,this);Laya.Animation.createFrames("resources/atlas/destory.atlas","destory"),p.pos(o.x-o.width,o.y-o.height/2),p.scale(1.5,1.5),o.parent.addChild(p),p.play(0,!0)}o.removeSelf()}}createEffect(){let e=new Laya.Animation;e.loadAtlas("resources/atlas/destory.atlas"),e.on(Laya.Event.COMPLETE,null,t);function t(){e.removeSelf(),Laya.Pool.recover("effect",e)}return e}onDisable(){Laya.Pool.recover("dropBox"+this.index,this.owner)}};s([S({type:"number"})],d.prototype,"index",2),d=s([x("3L23NCFLSAieUApqTrVoCQ")],d);var{regClass:I,property:M}=Laya,h=class extends Laya.Script{constructor(){super();this._time=0;this.rollLength=1980}onEnable(){this._time=Date.now(),this.owner.y=0}onStart(){}onUpdate(){if(i.instance.getStartMove()){let e=Date.now(),t=this.owner,a=e-this._time;if(a>5e3&&a<=6e3){let o=a-5e3;t.y=-(this.rollLength/1e3*o)}else if(a>6e3&&a<=16e3)t.y=-this.rollLength;else if(a>16e3&&a<=17e3){let o=a-16e3;t.y=-(this.rollLength/1e3*o)-this.rollLength}else a>17e3&&a<=18e3?t.y=-2*this.rollLength:a>18e3&&t.y>-6600&&(a>2e4?t.y-=1.5:a>18e3&&(t.y-=(a-18e3)/1500))}}onDisable(){}};h=s([I("-yR_zlEjRq-Np4rusmkJ0A")],h);})();
